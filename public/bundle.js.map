{"version":3,"file":"bundle.js","sources":["../src/App.js","../src/index.js"],"sourcesContent":["\n\nclass Controller {\n    constructor(view, model) {\n        this.view = view;\n        this.model = model;\n    }\n\n\n    async run() {\n        this.view.handlerDaftarList(await this.model.daftar_barang)\n        this.view.initFormListener(async (val) => {\n            this.model.tambah(val)\n            this.view.handlerDaftarList(await this.model.daftar_barang)\n        })\n        this.view.listenerKeranjangBelanjaan(async () => {\n            let is_success = await this.model.bayar()\n            if (is_success) {\n                this.view.table.reset()\n            }\n        })\n    }\n}\n\nclass View {\n    constructor() {\n        this.form = document.getElementById(\"form_tambah_keranjang\")\n        this.table = document.getElementById(\"daftar_barang_belanjaan\")\n        this.kodebarang = this.form.elements[\"kode_barang\"]\n        this.namabarang = this.form.elements[\"nama_barang\"]\n        this.jumlah_barang = this.form.elements[\"jumlah_barang\"]\n        this.harga = this.form.elements[\"harga\"];\n        this.total = document.getElementById(\"total_harga_barang\")\n        this.total_display = document.querySelector(\".total_harga\")\n        this.total_harga_barang = 0\n\n        this.form_keranjang_belanjaan = document.getElementById(\"keranjang_pembayaran\")\n        this.form_bayar = this.form_keranjang_belanjaan.elements[\"form_bayar\"]\n        this.form_kembali = this.form_keranjang_belanjaan.elements[\"form_kembalian\"]\n        this.handlerBayar()\n    }\n\n\n    handlerDaftarList(daftar_barang) {\n        daftar_barang.forEach(({kodebarang, namabarang, harga, jumlah}) => {\n            let total = harga * jumlah\n            const child = document.createElement(\"tr\")\n\n            const KodeBarang = document.createElement(\"th\")\n            KodeBarang.innerHTML = `${kodebarang}`\n\n            const NamaBarang = document.createElement(\"td\")\n            NamaBarang.innerHTML = namabarang\n\n            const HargaBarang = document.createElement(\"td\")\n            HargaBarang.innerHTML = `Rp ${harga}`\n\n            const JumlahBarang = document.createElement(\"td\")\n            JumlahBarang.innerHTML = `${jumlah}`\n\n\n            const TotalHargaBarang = document.createElement(\"td\")\n            TotalHargaBarang.innerHTML = `Rp.${total}`\n\n            this.total_harga_barang += total;\n            child.appendChild(KodeBarang)\n            child.appendChild(NamaBarang)\n            child.appendChild(HargaBarang)\n            child.appendChild(JumlahBarang)\n            child.appendChild(TotalHargaBarang)\n            this.table.append(child)\n        })\n        const TrTotalHarga = document.createElement(\"tr\")\n        TrTotalHarga.setAttribute('class', 'table-success')\n        const TotalTxt = document.createElement(\"th\")\n        TotalTxt.setAttribute('colspan', '4')\n        TotalTxt.innerHTML = 'Total Semua'\n        const TotalSemuaHarga = document.createElement(\"td\")\n        TotalSemuaHarga.innerHTML = `<h3>Rp.${this.total_harga_barang}</h3>`\n\n\n        TrTotalHarga.appendChild(TotalTxt)\n        TrTotalHarga.appendChild(TotalSemuaHarga)\n        this.table.append(TrTotalHarga)\n    }\n\n    async listenerKeranjangBelanjaan(constroller_event_bayar) {\n        this.form_keranjang_belanjaan.addEventListener(\"submit\", (event) => {\n            event.preventDefault()\n            if (this.form_kembali.value < 0) {\n                alert(\"pembayaran kurang\")\n            } else {\n                constroller_event_bayar()\n            }\n\n        })\n    }\n    handlerBayar() {\n        this.form_bayar.onchange = () => {\n            this.form_kembali.value = this.form_bayar.value - this.total_harga_barang;\n        }\n    }\n\n    handleOnChangeHarga() {\n        if (this.jumlah_barang.value > 0 && this.harga.value > 0) {\n            this.total.value = (this.jumlah_barang.value * this.harga.value).toLocaleString()\n\n            this.total_display.innerText = (this.jumlah_barang.value * this.harga.value).toLocaleString()\n        }\n    }\n\n    initFormListener(controller_push) {\n        this.total_display.innerText = \"\"\n        this.jumlah_barang.value = 0\n        this.harga.value = 0\n        this.jumlah_barang.onchange = () => this.handleOnChangeHarga()\n        this.harga.onchange = () => this.handleOnChangeHarga()\n\n        this.form.addEventListener(\"submit\", (event) => {\n            event.preventDefault();\n            controller_push(\n                {\n                    kodebarang: this.kodebarang.value,\n                    namabarang: this.namabarang.value,\n                    harga: this.harga.value,\n                    jumlah: this.jumlah_barang.value,\n                }\n            )\n            this.form.reset();\n            this.total_display.innerText = \"\"\n        });\n    }\n}\n\n\n\n\nclass Model {\n\n    constructor() {\n        this.daftar_barang = this.all() ?? [];\n    }\n\n\n    async tambah(barang) {\n        let result = await window.api.tambah(barang)\n        this.daftar_barang.push(result);\n    }\n\n    async bayar() {\n        await window.api.bayar()\n    }\n\n    async all() {\n        return await window.api.barang()\n    }\n\n}\n\n\nexport {Controller, Model, View}\n","import {Controller, Model, View} from \"./App\"\n\n\nconst app = new Controller(new View(), new Model())\n\napp.run()\n"],"names":["Controller","constructor","view","model","run","handlerDaftarList","daftar_barang","initFormListener","val","tambah","listenerKeranjangBelanjaan","is_success","bayar","table","reset","View","form","document","getElementById","kodebarang","elements","namabarang","jumlah_barang","harga","total","total_display","querySelector","total_harga_barang","form_keranjang_belanjaan","form_bayar","form_kembali","handlerBayar","forEach","jumlah","child","createElement","KodeBarang","innerHTML","NamaBarang","HargaBarang","JumlahBarang","TotalHargaBarang","appendChild","append","TrTotalHarga","setAttribute","TotalTxt","TotalSemuaHarga","constroller_event_bayar","addEventListener","event","preventDefault","value","alert","onchange","handleOnChangeHarga","toLocaleString","innerText","controller_push","Model","all","barang","result","window","api","push","app"],"mappings":"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"}